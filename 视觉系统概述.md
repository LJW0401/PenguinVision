# 视觉系统概述
## 模块划分
目前初步划分为以下几个模块，各部分分别成为一个节点，通过ROS节点进行通信：
1. 相机驱动部分
1. 串口通信部分
1. 装甲板识别部分
1. 能量机关识别部分（可能会和装甲板识别合并为目标识别部分）
1. 自车状态部分
1. 目标状态估计部分
1. 车体动作指令部分
<!-- 1. 弹丸识别部分 -->

## 模块介绍
### 相机驱动部分
这部分内容用于驱动相机，设置相机参数，标定相机，获取并发布图像。

### 串口通信部分
这部分用于接收C板传输的数据和给C板发送数据。后期等电控也进入上位机后可能会停用该部分，或者统一使用该部分。

### 装甲板识别部分
这部分用于识别图像中的装甲板部分，并发送相关参数进行对目标状态的估计。

此处主要基于[cj的论文](CJ/用于RoboMaster比赛的自动瞄准系统.pdf)思路，先匹配灯条，再提取数字区域进行匹配，最后通过 PnP解算获取目标的三维位置姿态。

可提升部分：
1. 灯条遮挡情况下对灯条的识别。
2. 数字被遮挡、有缺失情况下对数字的识别。（此处可考虑分块识别的方案，提取出多个特征取交集。）
3. 结合深度学习算法提升识别效率或鲁棒性或一起。（此处目前主要有串联和并联两种方案）

### 能量机关识别部分
这部分用于识别图像中的能量机关部分，并发送相关参数进行对目标状态的估计。

### 自车状态部分
通过自己车体的相关数据感知车体状态。

主要描述内容有：
1. 云台相对于底盘的姿态。
2. 车体装甲板的姿态。
3. 底盘姿态。

### 目标状态估计部分
对目标的进行运动学等方面的分析，跟踪目标。

### 车体动作指令部分
根据各种数据判断自己的车体应该进行何种运动，并发送相关参数。

### 弹丸识别部分


## 整体

## 其他部分


小企鹅 编辑于 2023.7.23